<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/plantilla/ModuloPares/Plantillas/plantilla_p.xhtml">
		<ui:define name="contenido">
		
			<f:facet name="header">
			<p:row>
				<p:column colspan="3">Registro de Usuario >> Nuevo Usuario</p:column>
			</p:row>
			</f:facet>
		
			<h:form>
			<p:outputPanel id="pnlGridMensajes" style="width:500px;margin-top:5px;">
					<p:row>
	    				<p:column colspan="4" rowspan="2">
	    					<p:messages id="messages" showDetail="true"  globalOnly="true" closable="true" />
	   					</p:column>
	   				</p:row>
	   			</p:outputPanel>
				<p:panel header="Mantenimiento de Usuarios" style="width:600px;">		
				
					<p:panelGrid id="pnlGridLoginAcceso">

						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText 
									id="lblUserId"
									value="#{mensaje['demo.mantenimiento.usuario.idUsuario']}" />
							</p:column>
	
							<p:column>
								<p:inputText id="usuarioId" size="40" required="true"
									requiredMessage="#{mensaje['general.error.requerido']}"			
									value="#{usuarioMBean.usuarioModel.idUsuario}" />
								<p:message for="usuarioId"/>
							</p:column>
						</p:row>
	
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText 
									id="lblLoginPassword"
									value="#{mensaje['demo.mantenimiento.usuario.clave']}" />
							</p:column>
	
							<p:column styleClass="styleAlignLeftColumn">
								<p:password 
									id="clave" size="40" required="true"
									requiredMessage="#{mensaje['general.error.requerido']}"							
									value="#{usuarioMBean.usuarioModel.clave}" />
								<p:message for="clave" />
							</p:column>
						</p:row>
				
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText id="lblNombresUsuario"
									value="#{mensaje['demo.mantenimiento.usuario.nombres']}" />
							</p:column>
	
							<p:column>
								<p:inputText id="nombresUsuario" required="true" size="40"	
								requiredMessage="#{mensaje['general.error.requerido']}" 
								validatorMessage="#{mensaje['general.error.nombre']}" 
								value="#{usuarioMBean.usuarioModel.nombres}" >
								 <f:validateRegex pattern="[a-zA-Z]+"/>
								 </p:inputText>
								<p:message for="nombresUsuario"/>
							</p:column>
						</p:row>
				
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText id="lblApellidoPaternoUsuario"
									value="#{mensaje['demo.mantenimiento.usuario.paterno']}" />
							</p:column>
	
							<p:column>
								<p:inputText 
									id="apellidoPaternoUsuario" size="40" required="true"
									requiredMessage="#{mensaje['general.error.requerido']}" 
									validatorMessage="#{mensaje['general.error.ap']}"																	
									value="#{usuarioMBean.usuarioModel.paterno}" >
									<f:validateRegex pattern="[a-zA-Z]+"/>
									</p:inputText>
								<p:message for="apellidoPaternoUsuario" />
							</p:column>
						</p:row>
				
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText id="lblApellidoMaternoUsuario"
									value="#{mensaje['demo.mantenimiento.usuario.materno']}" />
							</p:column>
	
							<p:column>
								<p:inputText id="apellidoMaternoUsuario" size="40" required="true"
								requiredMessage="#{mensaje['general.error.requerido']}"	 
								validatorMessage="#{mensaje['general.error.am']}" 								
									value="#{usuarioMBean.usuarioModel.materno}" > 
									<f:validateRegex pattern="[a-zA-Z]+"/>
									</p:inputText>
								<p:message for="apellidoMaternoUsuario" />
							</p:column>
						</p:row>
				
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText id="lblCorreoUsuario"
									value="#{mensaje['demo.mantenimiento.usuario.correo']}" />
							</p:column>
	
							<p:column>
								<p:inputText id="correoUsuario" size="40" required="true"
								requiredMessage="#{mensaje['general.error.requerido']}" 
								validatorMessage="#{mensaje['general.error.correo']}" 						
									value="#{usuarioMBean.usuarioModel.correo}" >
									 <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>  
									</p:inputText>
										<p:message for="correoUsuario" />					
							</p:column>
						</p:row>
				
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText id="lblDireccionUsuario"
									value="#{mensaje['demo.mantenimiento.usuario.direccion']}" />
							</p:column>
	
							<p:column>
								<p:inputText id="direccionUsuario" size="40"				
									value="#{usuarioMBean.usuarioModel.direccion}" />				
							</p:column>
						</p:row>
				
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText id="lblTelefonoUsuario"
									value="#{mensaje['demo.mantenimiento.usuario.telefono']}" />
							</p:column>
	
							<p:column>
								<p:inputText id="telefonoUsuario" size="40"	 required="true"
									requiredMessage="#{mensaje['general.error.requerido']}" 
									validatorMessage="#{mensaje['general.error.telefono']}" 		
									value="#{usuarioMBean.usuarioModel.telefono}" >
									 <f:validateRegex pattern="[0-9]+"/>
									</p:inputText>
										<p:message for="telefonoUsuario" />					
							</p:column>
						</p:row>
				
						<p:row>
							<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText id="lblRol"
									value="#{mensaje['demo.mantenimiento.usuario.rol']}" />
							</p:column>
							<p:column styleClass="styleAlignLeftColumn">
								<p:selectOneMenu
									value="#{usuarioMBean.usuarioModelSelect.rol}">
									<f:selectItems 
										value="#{usuarioMBean.usuarioModel.rolesUsuario}"
										var="roles" 
										itemLabel="#{roles.role}"
										itemValue="#{roles.idRol}"/> 								
								</p:selectOneMenu>
							</p:column>
						</p:row>
					</p:panelGrid>
				</p:panel>
				
				<p:panelGrid>
				<p:row>
					<p:column colspan="1" style="font-weight:bold;font-size:13px;color:red;">Advertencia:Los campos que est√°n con (*) son obligatorios</p:column>
				</p:row>
				</p:panelGrid>
				
				<p:outputPanel id="pnlGuardar" style="width:550x;margin-top:10px;">
					<p:row>
						<p:column colspan="2" styleClass="styleAlignRightColumn">
							<p:commandButton 
								id="botonGuardar" value="Guardar" 
								actionListener="#{usuarioMBean.guardarNuevoUsuarioMP}"
								update="pnlGridLoginAcceso,usuarioId, clave, nombresUsuario, apellidoPaternoUsuario, apellidoMaternoUsuario, correoUsuario, direccionUsuario, telefonoUsuario,
								pnlGridMensajes,messages" 
								ajax="true"/>								
						</p:column>
					</p:row>
				</p:outputPanel>
			</h:form>
		</ui:define>
	</ui:composition>
</html>