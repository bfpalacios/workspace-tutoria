<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/plantilla/ModuloObservados/Plantillas/plantilla_o.xhtml">
	<ui:define name="contenido">

		<p:panel header="Ver horarios de Tutoria en Alumnos Observados"
			style="width: 95%;border: 0px;">
			<h:panelGrid id="pnlBuscador"
				style="font-size: 12px;text-align: left" columns="5" cellspacing="5">
				<h:outputText value="Codigo Alumno" />
				<p:outputPanel>
					<p:inputText
						id="a_codigo"
						value="#{registrarTutoriaMBean.tutoriaModelSelect.aCodigo}"
						size="30" />
					<p:spacer width="5px" />
					<p:commandButton update="tablaResultado, a_nombre, profesorBuscado, cursoBuscado, selectOneProfesor, selectOneCurso"
						value="#{mensaje['unayoe.ingresar.datos.alumnos.label.buscar']}"
						actionListener="#{registrarTutoriaMBean.buscarHorariosTutoria(1)}" />
						<p:commandButton 
							id="botonExportar1"
							value="Exportar" 
							actionListener="#{registrarTutoriaMBean.imprimirReporteHorarioAlumno}" ajax="false" />						
				</p:outputPanel>
				
				<p:spacer width="30px" />  
				<h:outputText  value="Nombre de Alumno" />
				<p:inputText  id="a_nombre"
					value="#{registrarTutoriaMBean.tutoriaModelSelect.aNombre}"
					size="40" />
				<p:spacer width="30px" />	
				
   		 		<p:row>
                    	<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
							<h:outputText 
								id="idCurso"
                                value="#{mensaje['unayoe.ingresar.datos.alumnos.label.curso']}"/>
						</p:column>
						<p:column>
							<p:selectOneMenu 
                    			id="selectOneCurso" 
                    			value="#{registrarTutoriaMBean.tutoriaModelSelect.cCodigo}" 
                    			valueChangeListener="#{registrarTutoriaMBean.actualizarDocenteGenerico}"
                    			styleClass="ui-column-label-spij styleAlignRightColumn">
                        		<f:selectItem itemLabel="Seleccione el curso:"/>
                        		<f:selectItems 
                        			value="#{registrarTutoriaMBean.tutoriaModel.listarCursos}"
                                    var="cursos" itemLabel="#{cursos.nombre}"
                                    itemValue="#{cursos.cCodigo}" />
                        		<f:ajax event="change" execute="@this" render="selectOneProfesor"/>
                    		</p:selectOneMenu>
						</p:column>
					</p:row>
                    
                    <p:row>
                    	<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
							<h:outputText 
                    			id="idTutor"
                    			value="#{mensaje['unayoe.ingresar.datos.alumnos.label.docente']}"/>
						</p:column>
                    	<p:column>
							<p:selectOneMenu 
								id="selectOneProfesor"
								value="#{registrarTutoriaMBean.tutoriaModelSelect.pCodigo}"	
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<f:selectItem itemLabel="Seleccione el tutor: " />
								<f:selectItems
									value="#{registrarTutoriaMBean.tutoriaModel.listarTutores}"
									var="profesor" itemLabel="#{profesor.pNombre}"
									itemValue="#{profesor.pCodigo}" />
								
							</p:selectOneMenu>
						</p:column>
						
                    </p:row>
                    
                    <p:row>

						<p:column>
							<p:commandButton update="tablaResultado, a_nombre , a_codigo, cursoBuscado , profesorBuscado"
								value="#{mensaje['unayoe.ingresar.datos.alumnos.label.buscar']}"
								actionListener="#{registrarTutoriaMBean.buscarHorariosTutoriaDocente(1)}" />
						</p:column>

					</p:row> 
						<p:commandButton 
							id="botonExporta2r"
							value="Exportar" 
							actionListener="#{registrarTutoriaMBean.imprimirReporteHorarioDocente}" ajax="false" />                                   
                    
                    <p:spacer width="50px"/>
   
							 
			</h:panelGrid>

			<p:row>
				<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
					<p:dataTable 
						id="tablaResultado" style="font-size:10px;"
						value="#{registrarTutoriaMBean.listAsistenciaTutoria}" var="lista"
						emptyMessage="Datos de Tutoria Vacio">

						<p:column headerText="Ciclo acadÃ©mico" style="font-size: 12px;width: 10%">
							<h:outputText value="#{lista.tAnio}-#{lista.tPeriodo}" />
						</p:column>

						<p:column headerText="Nombre Curso" style="font-size: 12px;width: 20%">
							<h:outputText value="#{lista.c_nombre}" />
						</p:column>

						<p:column headerText="# Repitencias" style="font-size: 12px;width: 8%">
							<h:outputText value="#{lista.repitencia}" />
						</p:column>

						<p:column id="nombreOrigen" headerText="#{registrarTutoriaMBean.nombreOrigen}" style="font-size: 12px;width: 20%">
							<h:outputText value="#{lista.p_nombre}" />
						</p:column>

						<p:column headerText="Frecuencia" style="font-size: 12px;width: 15%">
							<h:outputText value="#{lista.descFrecuencia}" />
						</p:column>
						
						<p:column headerText="Dia" style="font-size: 12px;width: 15%">
							<h:outputText value="#{lista.dia}" />
						</p:column>

						<p:column headerText="Hora de Inicio" style="font-size: 12px;width: 10%">
							<h:outputText value="#{lista.horaIni}" />
						</p:column>

						<p:column headerText="Hora Fin" style="font-size: 12px;width: 10%">
							<h:outputText value="#{lista.horaFin}" />
						</p:column>
					</p:dataTable>
				</p:column>
			</p:row>
			<p:spacer width="15px" />		
						<p:outputPanel>
					
		                   	<p:column style="font-size: 12px;width: 10%">
								<h:outputText id="cursoBuscado" value="Curso #{registrarTutoriaMBean.cursoBuscado}"/>
							</p:column>
															
					</p:outputPanel>
			         	<p:column style="font-size: 12px;width: 10%">
							<h:outputText  id = "profesorBuscado" value="Tutor  #{registrarTutoriaMBean.profesorBuscado}"/>
						</p:column>
						

								
		</p:panel>
	</ui:define>
</ui:composition>


</html>