<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
      
	<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>			

	</head>

    <ui:composition template="/plantilla/ModuloObservados/Plantillas/plantilla_o.xhtml">
        <ui:define name="contenido">
            <p:panel header="Ver historial de tareas asignadas a tutoría" style="width: 450px;" >
                <p:panelGrid  id="pnlLoginAcceso" style="font-size: 12px;">     
                    <p:row>
                    	<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
							<h:outputText 
								id="idCurso"
                                value="#{mensaje['unayoe.ingresar.datos.alumnos.label.curso']}"/>
						</p:column>
						<p:column>
							<p:selectOneMenu 
                    			id="selectOneCurso" 
                    			value="#{gestionarActasMBean.tutoriaModelSelect.cCodigo}" 
                    			valueChangeListener="#{gestionarActasMBean.actualizarDocente}"
                    			styleClass="ui-column-label-spij styleAlignRightColumn">
                        		<f:selectItem itemLabel="Seleccione el curso:"/>
                        		<f:selectItems 
                        			value="#{gestionarActasMBean.tutoriaModel.listarCursos}"
                                    var="cursos" itemLabel="#{cursos.nombre}"
                                    itemValue="#{cursos.cCodigo}" />
                        		<f:ajax event="change" execute="@this" render="selectOneProfesor selectOneAlumno selectOneSesion"/>
                    		</p:selectOneMenu>
						</p:column>
					</p:row>
                    
                    <p:row>
                    	<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
							<h:outputText 
                    			id="idTutor"
                    			value="#{mensaje['unayoe.ingresar.datos.alumnos.label.docente']}"/>
						</p:column>
                    	<p:column>
							<p:selectOneMenu 
								id="selectOneProfesor"
								value="#{gestionarActasMBean.tutoriaModelSelect.pCodigo}"
								valueChangeListener="#{gestionarActasMBean.actualizarAlumno}"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<f:selectItem itemLabel="Seleccione el tutor: " />
								<f:selectItems
									value="#{gestionarActasMBean.tutoriaModel.listarTutores}"
									var="profesor" itemLabel="#{profesor.pNombre}"
									itemValue="#{profesor.pCodigo}" />
								<f:ajax event="change" execute="@this" render="selectOneAlumno selectOneSesion"/>
							</p:selectOneMenu>
						</p:column>
                    </p:row>
                    
                    <p:row>
                    	<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
							<h:outputText 
								id="idAlumno"
                                value="#{mensaje['unayoe.ingresar.datos.alumnos.label.alumno']}" />
						</p:column>
						<p:column>
							<p:selectOneMenu 
                    			id="selectOneAlumno" 
                    			value="#{gestionarActasMBean.tutoriaModelSelect.aCodigo}" 
                    			valueChangeListener="#{gestionarActasMBean.actualizarSesion}"
                    			styleClass="ui-column-label-spij styleAlignRightColumn">
                        		<f:selectItem itemLabel="Seleccione el alumno: " />
                        		<f:selectItems 
                        			value="#{gestionarActasMBean.tutoriaModel.listarAlumnos}"
                                    var="alumnos" itemLabel="#{alumnos.aNombre}"
                                    itemValue="#{alumnos.aCodigo}"/>
                                <f:ajax event="change" execute="@this" render="selectOneSesion"/>
                    		</p:selectOneMenu>
						</p:column>
					</p:row>                    
                    
                    <p:row>
                    	<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
							<h:outputText 
								id="idSesion"
                                value="#{mensaje['unayoe.tutoria.datos.sesion']}" />
						</p:column>
						<p:column>
							<p:selectOneMenu 
                    			id="selectOneSesion" 
                    			value="#{gestionarActasMBean.tutoriaModelSelect.sesion}" 
                    			valueChangeListener="#{gestionarActasMBean.validarCargaActas}"
                    			styleClass="ui-column-label-spij styleAlignRightColumn">
                        		<f:selectItem itemLabel="Elija la sesión: " />
                        		<f:selectItems 
                        			value="#{gestionarActasMBean.tutoriaModel.listarSesiones}"
                                    var="sesion" itemLabel="#{sesion.descSesion}"
                                    itemValue="#{sesion.nroSesion}"/>
                               
                    		</p:selectOneMenu>
						</p:column>
					</p:row>
					
                    
                    <p:spacer width="50px"/>
   				
                </p:panelGrid>            
            </p:panel>
            <p:outputPanel id="mostrarObservaciones" style="width:100%;margin-top:15px">               
                <p:row id="filTablaObservaciones">		   		
		   			<p:column  id="colObservaciones" colspan="3"> 
		   				<p:dataTable id="tablaObservaciones" var="lista" value="#{gestionarActasMBean.listaObservaciones}"  >
     						<f:facet name="header">
                        		<h:outputLabel style="font-size: 12px;" value="Tareas de tutoría"/>
                    		</f:facet>
     						
     						<p:column headerText="Alumno" style="font-size:12px; width:10%">
        						<h:outputText value="lista.alumno.nombres" />    
    						</p:column>   						
     						<p:column headerText="Razon" style="font-size:12px; width:10%">
    							<h:outputText  value="lista.razon" /> 
                    		</p:column>
      						<p:column headerText="Tarea" style="font-size:12px; width:10%">
								<h:outputText  value="lista.tarea"  /> 
                    		</p:column>                    		    								
      						<p:column headerText="Fecha Inicio" style="font-size:12px; width:10%">
        						<h:outputText  value="lista.fechaAsignada" />    
    						</p:column> 
      						<p:column headerText="Fecha Fin" style="font-size:12px; width:10%">
        						<h:outputText  value="lista.fechaFin" />    
    						</p:column> 
   							<p:column headerText="Fecha Cumplida" style="font-size:12px; width:10%">
        						<h:outputText value="tabla.fechaAsignada" />    
    						</p:column>  
    						<p:column headerText="Criticidad" style="font-size:12px; width:10%" >
								<h:outputText   value="lista.criticidad" /> 
                    		</p:column>       						
    						<p:column headerText="Estado" style="font-size:12px; width:10%" >
                        		<p:selectOneMenu
									 value="lista.estado">
									<f:selectItem itemLabel="BAJA" itemValue="BAJA" />
									<f:selectItem itemLabel="MEDIA" itemValue="MEDIA" />
									<f:selectItem itemLabel="ALTA" itemValue="ALTA" />									
								</p:selectOneMenu>
                    		</p:column>   
                  		   						   						                   		   						
						</p:dataTable>
			   		</p:column>   
				</p:row>
			</p:outputPanel>            
        </ui:define>
    </ui:composition>
</html>